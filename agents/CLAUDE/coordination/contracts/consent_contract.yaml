# Consent Ledger Service Contract
name: consent-ledger-service
version: 1.0.0
provider: consent-compliance-specialist
consumers:
  - all-agents

endpoints:
  check_consent:
    method: POST
    path: /consent/check
    input:
      - lid: string
      - action: string
      - resource: string
    output:
      - allowed: boolean
      - consent_id: string
      - require_step_up: boolean

  log_audit_event:
    method: POST
    path: /audit/log
    input:
      - lid: string
      - action: string
      - resource: string
      - capability_token_id: string
      - policy_verdict: string
    output:
      - trace_id: string  # Î›-trace
      - timestamp: ISO8601

  validate_policy:
    method: POST
    path: /policy/validate
    input:
      - action: string
      - context: object
    output:
      - verdict: allow|deny|step_up_required
      - explanation_unl: string

compliance_features:
  - gdpr_compliant: true
  - ccpa_compliant: true
  - duress_gesture_support: true
  - real_time_revocation: true
