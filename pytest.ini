[pytest]
# T4-Grade Test Configuration for LUKHAS AI
minversion = 7.0
asyncio_mode = auto
addopts = 
    --strict-markers
    --strict-config
    --verbose
    --tb=short
    --durations=10
    --maxfail=5
    --import-mode=importlib
    --junitxml=test-results.xml
    
testpaths = tests
pythonpath = .
norecursedirs = LucasArchive archive _cleanup_archive .git .venv venv __pycache__ .pytest_cache
xfail_strict = false

filterwarnings =
    error
    ignore::UserWarning:ethics
    ignore:Could not import lukhas.governance ethics components:UserWarning
    ignore:on_event is deprecated:DeprecationWarning
    ignore:uvloop.install\(\) is deprecated:DeprecationWarning
    ignore::DeprecationWarning:candidate
    ignore::PendingDeprecationWarning
    ignore:urllib3 v2 only supports OpenSSL:UserWarning

markers =
    unit: Unit tests (fast, isolated)
    integration: Integration tests (require services)
    e2e: End-to-end tests (full system)
    slow: Tests that take > 5 seconds
    asyncio: marks tests as asynchronous
    consciousness: Tests for consciousness module
    trinity: Tests for Trinity Framework (âš›ï¸ğŸ§ ğŸ›¡ï¸)
    ablation: Consciousness ablation testing framework
    ethics: Ethics validation and compliance testing
    performance: Performance benchmarks
    security: Security-focused tests
    critical: Critical path tests
    perf: Performance tests
    fault: Fault injection tests
    smoke: Quick smoke tests
    regression: Regression tests
    no_mock: Reality tests without mocking
    contract: Contract testing and validation
    nias_transcendence: NIAS transcendence and emergence testing
    benchmark: Performance benchmarking and measurement
    audit_safe: Tests safe for audit and compliance review
