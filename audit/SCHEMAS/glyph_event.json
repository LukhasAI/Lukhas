{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://lukhas.ai/schemas/glyph_event.json",
  "title": "GLYPH Event Schema",
  "description": "Schema for LUKHAS AI GLYPH symbolic communication events",
  "type": "object",
  "required": ["id", "type", "source", "data", "timestamp"],
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^glyph_[a-zA-Z0-9_-]+$",
      "description": "Unique GLYPH event identifier"
    },
    "type": {
      "type": "string",
      "enum": [
        "CONSCIOUSNESS_UPDATE",
        "MEMORY_FOLD_CREATED",
        "IDENTITY_VERIFIED",
        "MATRIZ_PROCESSED",
        "GUARDIAN_ALERT",
        "DREAM_STATE_CHANGE",
        "EMOTION_SHIFT",
        "CREATIVE_SPARK",
        "QUANTUM_COLLAPSE",
        "BIO_ADAPTATION"
      ],
      "description": "GLYPH event type classification"
    },
    "source": {
      "type": "object",
      "required": ["module", "component"],
      "properties": {
        "module": {
          "type": "string",
          "enum": [
            "consciousness",
            "memory",
            "identity",
            "matriz",
            "governance",
            "creativity",
            "emotion",
            "quantum",
            "bio",
            "orchestration"
          ]
        },
        "component": {
          "type": "string",
          "description": "Specific component within module"
        },
        "lane": {
          "type": "string",
          "enum": ["lukhas", "candidate", "core"],
          "description": "Development lane of source"
        }
      }
    },
    "data": {
      "type": "object",
      "description": "Event payload data",
      "additionalProperties": true
    },
    "timestamp": {
      "type": "number",
      "description": "Unix timestamp of event creation"
    },
    "priority": {
      "type": "integer",
      "minimum": 1,
      "maximum": 10,
      "default": 5,
      "description": "Processing priority (1=lowest, 10=highest)"
    },
    "metadata": {
      "type": "object",
      "properties": {
        "causal_chain": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Chain of events that led to this one"
        },
        "correlation_id": {
          "type": "string",
          "description": "Groups related events together"
        },
        "processing_duration_ms": {
          "type": "number",
          "description": "Time taken to process this event"
        },
        "guardian_validated": {
          "type": "boolean",
          "description": "Whether Guardian System validated this event"
        },
        "memory_fold_id": {
          "type": "string",
          "description": "Associated memory fold if persisted"
        }
      }
    },
    "routing": {
      "type": "object",
      "properties": {
        "targets": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Intended recipient modules"
        },
        "broadcast": {
          "type": "boolean",
          "default": false,
          "description": "Whether to broadcast to all modules"
        },
        "ttl_ms": {
          "type": "integer",
          "default": 30000,
          "description": "Time-to-live for event in milliseconds"
        }
      }
    }
  },
  "examples": [
    {
      "id": "glyph_consciousness_update_20250827_001",
      "type": "CONSCIOUSNESS_UPDATE",
      "source": {
        "module": "consciousness",
        "component": "awareness_engine",
        "lane": "lukhas"
      },
      "data": {
        "awareness_level": 0.87,
        "focus_areas": ["identity_verification", "memory_consolidation"],
        "state_change": "ENHANCED_AWARENESS"
      },
      "timestamp": 1735689600.123,
      "priority": 7,
      "metadata": {
        "causal_chain": ["glyph_identity_verified_001"],
        "correlation_id": "session_user123_20250827",
        "processing_duration_ms": 45.7,
        "guardian_validated": true
      },
      "routing": {
        "targets": ["memory", "identity"],
        "broadcast": false,
        "ttl_ms": 30000
      }
    }
  ]
}
