# Common Integration Settings

# API Standards
api_standards:
  fhir: "4.0.1"     # FHIR version
  hl7: "2.7"        # HL7 version
  dicom: "3.0"      # DICOM version
  snomed: "2024"    # SNOMED CT version

# Security Standards
security_standards:
  encryption:
    transit: "TLS 1.3"
    storage: "AES-256-GCM"
  authentication:
    oauth2:
      flows:
        - "client_credentials"
        - "authorization_code"
    jwt:
      algorithm: "RS256"
      expiry: 3600

# Data Exchange
data_exchange:
  formats:
    - "FHIR"
    - "HL7v2"
    - "CDA"
    - "DICOM"
  encoding: "UTF-8"
  compression: "gzip"

# Error Handling
error_handling:
  retry:
    max_attempts: 3
    backoff:
      initial_delay: 1
      max_delay: 30
      multiplier: 2
  circuit_breaker:
    threshold: 5
    reset_timeout: 60

# Monitoring
monitoring:
  metrics:
    - "response_time"
    - "error_rate"
    - "request_count"
    - "data_volume"
  alerts:
    response_time_threshold: 5000  # ms
    error_rate_threshold: 0.05     # 5%

# Audit
audit:
  events:
    - "data_access"
    - "authentication"
    - "authorization"
    - "data_modification"
  retention:
    minimum_days: 2555  # 7 years
    sensitive_days: 3650  # 10 years

# Rate Limiting
rate_limiting:
  default:
    requests_per_second: 10
    burst: 20
  bulk:
    requests_per_minute: 100
    daily_limit: 10000

# Cache
cache:
  ttl:
    default: 300  # 5 minutes
    patient_data: 60  # 1 minute
    reference_data: 3600  # 1 hour
  invalidation:
    on_update: true
    patterns:
      - "patient:{id}:*"
      - "provider:{id}:*"

# Compliance
compliance:
  privacy:
    data_minimization: true
    consent_required: true
    right_to_access: true
  security:
    access_logging: true
    encryption_required: true
    mfa_required: true

# Integration Features
features:
  scheduling:
    enabled: true
    real_time: true
  notifications:
    email: true
    sms: true
    push: true
  document_exchange:
    enabled: true
    max_size: 10485760  # 10MB

# Performance
performance:
  timeouts:
    connect: 5
    read: 30
    write: 30
  pooling:
    min_connections: 5
    max_connections: 20
  optimization:
    compression: true
    connection_reuse: true

# Regional Settings
regional:
  date_format: "ISO8601"
  timezone: "UTC"
  language:
    default: "en"
    supported:
      - "en"
      - "es"
      - "fr"
      - "de"
