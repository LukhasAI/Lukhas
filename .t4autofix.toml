# T4 Autofix System Policy Configuration
# Version-controlled policy for automated code transformations

[scope]
# File patterns to include in autofix operations
allow_patterns = [
    "lukhas/**",
    "api/**", 
    "identity/**",
    "vivox/**",
    "consciousness/**",
    "quantum/**",
    "bio/**",
    "candidate/**",
    "universal_language/**"
]

# File patterns to exclude from autofix operations  
deny_patterns = [
    "tests/**",
    "examples/**", 
    "docs/**",
    "**/migrations/**",
    "**/.git/**",
    "**/__pycache__/**",
    "**/*.pyc"
]

[rules]
# Auto-fixable rules that are safe to apply automatically
auto_fix = [
    "UP006",  # Use PEP585 generic types
    "UP035",  # Import from typing_extensions deprecated
    "F841",   # Local variable assigned but never used  
    "E711",   # Comparison to None should be 'if cond is None'
    "E712",   # Comparison to True should be 'if cond is True'
    "W292",   # No newline at end of file
    "W293",   # Blank line contains whitespace
    "E225",   # Missing whitespace around operator
    "E231"    # Missing whitespace after ','
]

# Rules requiring human review
manual_review = [
    "C901",   # Function is too complex
    "N806",   # Variable in function should be lowercase  
    "PLR0913", # Too many arguments in function definition
    "PLR2004"  # Magic value used in comparison
]

[interfaces]
# Protected interface patterns that should not be auto-modified
protected_patterns = [
    "**/api/**",
    "**/public_api.py", 
    "**/*_interface.py",
    "**/protocol/**"
]

[special_rules]
# Trinity Framework consciousness patterns
preserve_consciousness = [
    "‚öõÔ∏è", "üß†", "üõ°Ô∏è",  # Trinity symbols
    "ŒõID", "Œõ",         # Lambda consciousness markers  
    "_trace_",          # Audit trail patterns
    "_fold_"            # Memory fold patterns
]

# Security-sensitive patterns  
security_sensitive = [
    "password", "secret", "key", "token",
    "auth", "credential", "cert"
]
