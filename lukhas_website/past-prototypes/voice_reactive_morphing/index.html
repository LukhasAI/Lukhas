<!--
ADAPTATION NOTICE:
This demo is adapted from an open-source WebGL morphing system.
Original author: Unknown (source: web_to_test project)
Original license: Unknown (please refer to original project for licensing)
Adaptation by: Gonz, 2024

This adaptation is for educational/research purposes. 
If you are the original author, please contact for proper attribution.
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PR0T3US - LUKHAS AI Voice-Reactive Morphing</title>
    <script src="libs/jl_matrix_min.js"></script>
    <script src="build.js"></script>
    <script src="shader-modifications.js"></script>
    <script src="js/morphing-system.js"></script>
    <script src="js/lukhas-integration.js"></script>
    <link rel="stylesheet" href="css/main.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <canvas id="mainCanvas"></canvas>
    <!-- Top Bar -->
    <header class="lucas-topbar">
        <div class="lucas-header-left">
            <button id="settingsToggle" class="lucas-settings-btn" title="Settings">
                <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="11" cy="11" r="9" stroke="#b0c4d4" stroke-width="2"/>
                  <path d="M11 7V11L13.5 13.5" stroke="#b0c4d4" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </button>
            <span class="lucas-logo">PR0T3US</span>
        </div>
        <div class="lucas-header-right">
            <button id="fullscreenToggle" class="lucas-header-btn" title="Fullscreen">‚õ∂</button>
            <button id="quickSettingsToggle" class="lucas-header-btn" title="Quick Settings">‚ö°</button>
        </div>
    </header>
    <!-- Settings Sidebar -->
    <aside id="lucasSettingsSidebar" class="lucas-settings-sidebar">
        <div class="lucas-settings-content">
            <h3>Settings</h3>
            <!-- API Configuration -->
            <div class="lucas-settings-row">
                <label>OpenAI API Key</label>
                <input type="password" id="openaiKey" placeholder="sk-...">
                <span id="openaiStatus" class="status-dot disconnected"></span>
            </div>
            <div class="lucas-settings-row">
                <label>Anthropic API Key</label>
                <input type="password" id="anthropicKey" placeholder="sk-ant-...">
                <span id="anthropicStatus" class="status-dot disconnected"></span>
            </div>
            <div class="lucas-settings-row">
                <label>Local Endpoint</label>
                <input type="text" id="localEndpoint" placeholder="http://localhost:11434">
                <span id="localStatus" class="status-dot disconnected"></span>
            </div>
            <button id="saveAPI" class="lucas-btn-primary">Save & Test</button>
            <!-- Particle Controls -->
            <div class="lucas-settings-section">
                <h4>Particle System</h4>
                <div class="lucas-settings-row">
                    <label>Particle Count: <span id="particleCountValue">1000</span></label>
                    <input type="range" id="particleCount" min="100" max="5000" value="1000" class="slider">
                </div>
                <div class="lucas-settings-row">
                    <label>Boundary Force: <span id="boundaryForceValue">0.15</span></label>
                    <input type="range" id="boundaryForce" min="0.01" max="0.5" step="0.01" value="0.15" class="slider">
                </div>
                <div class="lucas-settings-row">
                    <label>Attraction Strength: <span id="attractionStrengthValue">0.5</span></label>
                    <input type="range" id="attractionStrength" min="0.1" max="2.0" step="0.1" value="0.5" class="slider">
                </div>
                <div class="lucas-settings-row">
                    <label>Particle Size: <span id="particleSizeValue">0.5</span></label>
                    <input type="range" id="particleSize" min="0.1" max="2.0" step="0.1" value="0.5" class="slider">
                </div>
            </div>
            <!-- Morphing Controls -->
            <div class="lucas-settings-section">
                <h4>Morphing</h4>
                <div class="lucas-settings-row">
                    <label>Morph Speed: <span id="morphSpeedValue">1.0</span></label>
                    <input type="range" id="morphSpeed" min="0.1" max="3.0" step="0.1" value="1.0" class="slider">
                </div>
                <div class="lucas-settings-row">
                    <label>Voice Intensity: <span id="voiceIntensityValue">0.5</span></label>
                    <input type="range" id="voiceIntensity" min="0.0" max="1.0" step="0.1" value="0.5" class="slider">
                </div>
            </div>
            <!-- System Controls -->
            <div class="lucas-settings-section">
                <h4>System</h4>
                <div class="lucas-settings-row">
                    <button id="toggleCamera" class="lucas-btn-secondary">Enable Camera</button>
                    <button id="toggleMicrophone" class="lucas-btn-secondary">Enable Mic</button>
                </div>
                <div class="lucas-settings-row">
                    <button id="resetSystem" class="lucas-btn-secondary">Reset</button>
                    <button id="exportConfig" class="lucas-btn-secondary">Export</button>
                </div>
            </div>
            <!-- Performance Monitor -->
            <div class="lucas-settings-section">
                <h4>Performance</h4>
                <div class="lucas-settings-row">
                    <div>FPS: <span id="fpsDisplay">60</span></div>
                    <div>Memory: <span id="memoryDisplay">0 MB</span></div>
                    <div>Particles: <span id="particleDisplay">1000</span></div>
                </div>
            </div>
        </div>
    </aside>
    <!-- Terminal-style Chat Panel -->
    <div id="lucasChatPanel" class="lucas-chat-panel">
        <div class="lucas-chat-header">
            <span>AI Terminal</span>
            <div class="lucas-chat-actions">
                <select id="modelSelector" class="lucas-model-selector">
                    <option value="gpt-4">GPT-4</option>
                    <option value="gpt-3.5-turbo">GPT-3.5</option>
                    <option value="claude-3-sonnet-20240229">Claude 3 Sonnet</option>
                    <option value="llama2">Llama 2</option>
                </select>
                <button id="clearChat" class="lucas-header-btn" title="Clear Chat">üóëÔ∏è</button>
            </div>
        </div>
        <div id="lucasChatMessages" class="lucas-chat-messages"></div>
        <div class="lucas-chat-input-row">
            <input type="text" id="chatInput" placeholder="Type your message...">
            <button id="sendMessage" class="lucas-btn-primary">‚û§</button>
        </div>
    </div>
    <script>
        // Sidebar toggle logic
        document.getElementById('settingsToggle').onclick = function() {
            document.getElementById('lucasSettingsSidebar').classList.toggle('open');
        };
        // Fullscreen logic
        document.getElementById('fullscreenToggle').onclick = function() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        };
        // Quick settings placeholder
        document.getElementById('quickSettingsToggle').onclick = function() {
            alert('Quick settings coming soon!');
        };
        // Chat clear
        document.getElementById('clearChat').onclick = function() {
            document.getElementById('lucasChatMessages').innerHTML = '';
        };
        // Chat send (placeholder)
        document.getElementById('sendMessage').onclick = function() {
            const input = document.getElementById('chatInput');
            if (input.value.trim()) {
                const msg = document.createElement('div');
                msg.className = 'lucas-chat-msg user';
                msg.innerHTML = `<span class='lucas-chat-user'>You</span>: <span>${input.value}</span>`;
                document.getElementById('lucasChatMessages').appendChild(msg);
                input.value = '';
            }
        };
    </script>
</body>
</html> 