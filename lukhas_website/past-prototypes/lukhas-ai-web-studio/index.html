<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUKHΛS - AI Web Studio</title>
    <meta name="description" content="LUKHΛS develops next-generation AI systems, unified development experiences, and ethical intelligence technologies that serve human agency.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Poppins:wght@100;200;300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <!-- Studio Assets -->
    <link rel="stylesheet" href="./assets/css/studio.css">
    <link rel="stylesheet" href="./assets/css/legal.css">

    <style>
        /* CSS Variables and Design System */
        :root {
            /* Colors - Dark Theme */
            --color-background: #0a0c14;
            --color-surface: #111318;
            --color-surface-raised: #1a1d24;
            --color-surface-elevated: #242832;
            --color-surface-hover: #2a2e3a;

            --color-text-primary: #EAECEF;
            --color-text-secondary: #a1a6b0;
            --color-text-tertiary: #71767d;

            --color-accent-primary: #3a64ff;
            --color-accent-secondary: #a7b4ff;
            --color-accent-success: #10b981;
            --color-accent-warning: #f59e0b;
            --color-accent-error: #ef4444;

            --color-border: #21262d;
            --color-border-light: #30363d;
            --color-border-hover: #424a53;

            /* Dock specific */
            --dock-background: #0f1117;
            --dock-border: #1f2328;
            --dock-width: 280px;
            --dock-width-collapsed: 70px;

            /* Typography */
            --font-primary: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
            --font-secondary: "Poppins", sans-serif;
            --font-mono: "JetBrains Mono", monospace;

            /* Spacing */
            --spacing-xs: 0.25rem;
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 1.5rem;
            --spacing-xl: 2rem;
            --spacing-2xl: 3rem;

            /* Borders */
            --border-radius-sm: 0.375rem;
            --border-radius-md: 0.5rem;
            --border-radius-lg: 0.75rem;
            --border-radius-xl: 1rem;

            /* Transitions */
            --transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-normal: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 0.5s cubic-bezier(0.4, 0, 0.2, 1);

            /* Z-index */
            --z-background: 0;
            --z-dock: 100;
            --z-floating: 200;
            --z-cookies: 9999;
            --z-modal: 10000;
        }

        /* Reset */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Base */
        body {
            font-family: var(--font-primary);
            background: var(--color-background);
            color: var(--color-text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Neural Background - Progressive Enhancement */
        .neural-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: var(--z-background);
            pointer-events: none;
        }

        .neural-background-svg {
            width: 100%;
            height: 100%;
        }

        .neural-background-canvas {
            width: 100%;
            height: 100%;
        }

        /* App Container */
        .app-container {
            display: flex;
            min-height: 100vh;
            position: relative;
        }

        /* Dock Styles */
        .dock {
            width: var(--dock-width);
            background: var(--dock-background);
            border-right: 1px solid var(--dock-border);
            display: flex;
            flex-direction: column;
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            z-index: var(--z-dock);
            transition: transform var(--transition-normal);
        }

        .dock.collapsed {
            transform: translateX(-calc(var(--dock-width) - var(--dock-width-collapsed)));
        }

        .dock-header {
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--dock-border);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .dock-logo {
            font-weight: 300;
            font-size: 1.5rem;
            letter-spacing: 0.05em;
            color: var(--color-text-primary);
        }

        .dock-toggle {
            background: none;
            border: none;
            color: var(--color-text-secondary);
            cursor: pointer;
            padding: var(--spacing-sm);
            border-radius: var(--border-radius-md);
            transition: all var(--transition-fast);
        }

        .dock-toggle:hover {
            background: var(--color-surface-hover);
            color: var(--color-text-primary);
        }

        /* Navigation */
        .dock-navigation {
            flex: 1;
            padding: var(--spacing-lg);
            overflow-y: auto;
        }

        .nav-section {
            margin-bottom: var(--spacing-xl);
        }

        .nav-section-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--color-text-tertiary);
            margin-bottom: var(--spacing-md);
        }

        .nav-list {
            list-style: none;
        }

        .nav-item {
            margin-bottom: var(--spacing-xs);
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-sm) var(--spacing-md);
            color: var(--color-text-secondary);
            text-decoration: none;
            border-radius: var(--border-radius-md);
            transition: all var(--transition-fast);
            font-size: 0.875rem;
        }

        .nav-link:hover {
            background: var(--color-surface-hover);
            color: var(--color-text-primary);
        }

        .nav-link.active {
            background: linear-gradient(135deg, rgba(58, 100, 255, 0.15) 0%, rgba(167, 180, 255, 0.1) 100%);
            color: var(--color-accent-secondary);
        }

        .nav-link i {
            width: 16px;
            height: 16px;
        }

        /* Dock Footer */
        .dock-footer {
            padding: var(--spacing-lg);
            border-top: 1px solid var(--dock-border);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--color-surface-elevated);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--color-text-secondary);
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            display: block;
            font-weight: 500;
            font-size: 0.875rem;
            color: var(--color-text-primary);
        }

        .user-status {
            display: block;
            font-size: 0.75rem;
            color: var(--color-text-tertiary);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: var(--dock-width);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-2xl);
            transition: margin-left var(--transition-normal);
        }

        .dock.collapsed + .main-content {
            margin-left: var(--dock-width-collapsed);
        }

        /* Hero Section */
        .hero-section {
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
            z-index: 10;
            position: relative;
        }

        .hero-title {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 300;
            margin-bottom: var(--spacing-lg);
            line-height: 1.1;
        }

        .gradient-text {
            background: linear-gradient(135deg, var(--color-accent-secondary) 0%, var(--color-accent-primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Quote Rotator */
        .quote-rotator {
            margin: var(--spacing-2xl) auto;
            max-width: 600px;
        }

        .quote-text {
            font-size: clamp(1.25rem, 2.5vw, 1.75rem);
            font-weight: 300;
            line-height: 1.5;
            margin-bottom: var(--spacing-md);
            opacity: 0;
            animation: fadeInUp 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            will-change: transform, opacity;
        }

        .quote-author {
            font-size: 1rem;
            color: var(--color-text-secondary);
            opacity: 0;
            animation: fadeInUp 0.5s cubic-bezier(0.4, 0, 0.2, 1) 0.2s forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* CTA Section */
        .hero-actions {
            margin-top: var(--spacing-2xl);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-md) var(--spacing-xl);
            border: none;
            border-radius: var(--border-radius-lg);
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: all var(--transition-fast);
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--color-accent-primary);
            color: white;
        }

        .btn-primary:hover {
            filter: brightness(1.05);
            transform: translateY(-1px);
        }

        /* Cookie Preferences */
        .cookie-preferences-link {
            position: fixed;
            bottom: var(--spacing-lg);
            right: var(--spacing-lg);
            background: rgba(255, 255, 255, 0.06);
            border: 1px solid rgba(255, 255, 255, 0.12);
            color: var(--color-text-secondary);
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--border-radius-md);
            font-size: 0.875rem;
            text-decoration: none;
            transition: all var(--transition-fast);
            z-index: var(--z-floating);
        }

        .cookie-preferences-link:hover {
            background: rgba(255, 255, 255, 0.08);
            color: var(--color-text-primary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .dock {
                transform: translateX(-100%);
            }

            .dock.show {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
                padding: var(--spacing-lg);
            }

            .hero-title {
                font-size: 2.5rem;
            }
        }

        /* Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }

            .neural-background-canvas {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Neural Background - Progressive Enhancement -->
    <div class="neural-background" id="neural-background">
        <!-- SVG Fallback -->
        <svg aria-hidden="true" role="img" class="neural-background-svg">
            <defs>
                <radialGradient id="neural-gradient" cx="50%" cy="50%">
                    <stop offset="0%" stop-color="rgba(58,100,255,0.08)" />
                    <stop offset="50%" stop-color="rgba(167,180,255,0.04)" />
                    <stop offset="100%" stop-color="rgba(10,12,20,0.9)" />
                </radialGradient>
            </defs>
            <rect width="100%" height="100%" fill="url(#neural-gradient)" />
            <!-- Static neural pattern -->
            <g opacity="0.1" stroke="rgba(180,200,255,0.3)" stroke-width="0.5" fill="none">
                <circle cx="20%" cy="30%" r="2" />
                <circle cx="80%" cy="20%" r="2" />
                <circle cx="60%" cy="70%" r="2" />
                <circle cx="30%" cy="80%" r="2" />
                <line x1="20%" y1="30%" x2="80%" y2="20%" />
                <line x1="60%" y1="70%" x2="30%" y2="80%" />
            </g>
        </svg>
    </div>

    <!-- App Container -->
    <div class="app-container">
        <!-- Left Dock -->
        <aside class="dock" id="left-dock">
            <div class="dock-header">
                <div class="dock-logo">LUKHΛS</div>
                <button class="dock-toggle" id="dock-toggle" aria-label="Toggle dock">
                    <i data-lucide="panel-left"></i>
                </button>
            </div>

            <nav class="dock-navigation">
                <div class="nav-section">
                    <h4 class="nav-section-title">Studio</h4>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#home" class="nav-link active">
                                <i data-lucide="home"></i>
                                <span>Home</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#studio" class="nav-link">
                                <i data-lucide="brain"></i>
                                <span>AI Studio</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#projects" class="nav-link">
                                <i data-lucide="folder"></i>
                                <span>Projects</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#research" class="nav-link">
                                <i data-lucide="book-open"></i>
                                <span>Research</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h4 class="nav-section-title">Platform</h4>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#agents" class="nav-link">
                                <i data-lucide="bot"></i>
                                <span>Agents</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#models" class="nav-link">
                                <i data-lucide="layers"></i>
                                <span>Models</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#data" class="nav-link">
                                <i data-lucide="database"></i>
                                <span>Data</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h4 class="nav-section-title">Company</h4>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#about" class="nav-link">
                                <i data-lucide="info"></i>
                                <span>About</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#team" class="nav-link">
                                <i data-lucide="users"></i>
                                <span>Team</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/legal/terms-eu.html" class="nav-link">
                                <i data-lucide="file-text"></i>
                                <span>Legal</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <div class="dock-footer">
                <div class="user-profile">
                    <div class="user-avatar">
                        <i data-lucide="user"></i>
                    </div>
                    <div class="user-info">
                        <span class="user-name">Guest User</span>
                        <span class="user-status">Exploring</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="hero-section">
                <h1 class="hero-title">
                    AI Web Studio for
                    <span class="gradient-text">Human Agency</span>
                </h1>

                <!-- Quote Rotator -->
                <div class="quote-rotator" aria-live="polite">
                    <p class="quote-text" id="quote-text">"We build tools that serve human agency."</p>
                    <p class="quote-author" id="quote-author">— G. Dominguez</p>
                </div>

                <!-- CTA Actions -->
                <div class="hero-actions">
                    <a href="#studio" class="btn btn-primary">
                        <i data-lucide="play-circle"></i>
                        Enter LUKHΛS
                    </a>
                </div>
            </div>
        </main>
    </div>

    <!-- Cookie Preferences Link -->
    <a href="#" class="cookie-preferences-link" id="cookie-preferences-link">
        Cookie Preferences
    </a>

    <!-- Include Nordic Cookie Component -->
    <div id="nordic-cookies-container"></div>

    <script>
        // Progressive Enhancement for Neural Background
        function initNeuralBackground() {
            const container = document.getElementById('neural-background');
            const svg = container.querySelector('.neural-background-svg');

            // Check capabilities
            const reduceMotion = window.matchMedia?.("(prefers-reduced-motion: reduce)").matches;
            const deviceMemory = navigator.deviceMemory || 4;
            const cores = navigator.hardwareConcurrency || 4;
            const batterySaver = navigator.connection?.saveData === true;

            if (reduceMotion || batterySaver) {
                return; // Keep SVG fallback
            }

            // Progressive enhancement to Canvas
            if (deviceMemory >= 4 && cores >= 4) {
                const canvas = document.createElement('canvas');
                canvas.className = 'neural-background-canvas';
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;

                const ctx = canvas.getContext('2d');
                if (!ctx) return;

                // Replace SVG with Canvas
                svg.style.display = 'none';
                container.appendChild(canvas);

                // Neural network simulation
                const particles = Array.from({ length: 60 }, () => ({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    vx: (Math.random() - 0.5) * 0.4,
                    vy: (Math.random() - 0.5) * 0.4
                }));

                function animate() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    ctx.globalAlpha = 0.6;
                    ctx.strokeStyle = "rgba(180,200,255,0.25)";

                    // Update particles
                    particles.forEach(p => {
                        p.x += p.vx;
                        p.y += p.vy;

                        // Bounce off edges
                        if (p.x < 0 || p.x > canvas.width) p.vx *= -1;
                        if (p.y < 0 || p.y > canvas.height) p.vy *= -1;
                    });

                    // Draw connections
                    for (let i = 0; i < particles.length; i++) {
                        for (let j = i + 1; j < particles.length; j++) {
                            const dx = particles[i].x - particles[j].x;
                            const dy = particles[i].y - particles[j].y;
                            const distance = Math.hypot(dx, dy);

                            if (distance < 140) {
                                ctx.beginPath();
                                ctx.moveTo(particles[i].x, particles[i].y);
                                ctx.lineTo(particles[j].x, particles[j].y);
                                ctx.stroke();
                            }
                        }
                    }

                    requestAnimationFrame(animate);
                }

                animate();

                // Handle resize
                window.addEventListener('resize', () => {
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                });
            }
        }

        // Quote System
        const quotes = [
            { text: "We build tools that serve human agency.", author: "G. Dominguez" },
            { text: "Intelligence that remembers consent before convenience.", author: "G. Dominguez" },
            { text: "The substrate for thought emerges from intentional design.", author: "G. Dominguez" },
            { text: "Privacy is not a feature—it's a foundation.", author: "G. Dominguez" }
        ];

        let currentQuoteIndex = 0;

        function rotateQuote() {
            const quoteText = document.getElementById('quote-text');
            const quoteAuthor = document.getElementById('quote-author');

            if (!quoteText || !quoteAuthor) return;

            const quote = quotes[currentQuoteIndex];

            // Fade out
            quoteText.style.opacity = '0';
            quoteAuthor.style.opacity = '0';

            setTimeout(() => {
                quoteText.textContent = `"${quote.text}"`;
                quoteAuthor.textContent = `— ${quote.author}`;

                // Fade in
                quoteText.style.opacity = '1';
                quoteAuthor.style.opacity = '1';
            }, 250);

            currentQuoteIndex = (currentQuoteIndex + 1) % quotes.length;
        }

        // Dock Toggle
        function initDockToggle() {
            const dock = document.getElementById('left-dock');
            const toggle = document.getElementById('dock-toggle');

            toggle?.addEventListener('click', () => {
                dock?.classList.toggle('collapsed');
            });
        }

        // Cookie Preferences Integration
        function initCookiePreferences() {
            const link = document.getElementById('cookie-preferences-link');

            link?.addEventListener('click', (e) => {
                e.preventDefault();
                window.dispatchEvent(new CustomEvent('lukhas:open-cookie-prefs'));
            });
        }

        // Nordic Cookies Loader
        async function loadNordicCookies() {
            try {
                const response = await fetch('./components/nordic-cookies-standalone.html');
                const html = await response.text();

                // Extract the cookie banner HTML
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                const cookieBanner = doc.getElementById('cookieBanner');
                const toast = doc.getElementById('toast');

                if (cookieBanner && toast) {
                    document.getElementById('nordic-cookies-container')?.appendChild(cookieBanner);
                    document.getElementById('nordic-cookies-container')?.appendChild(toast);

                    // Extract and execute the script
                    const scripts = doc.querySelectorAll('script');
                    scripts.forEach(script => {
                        if (script.textContent) {
                            const newScript = document.createElement('script');
                            newScript.textContent = script.textContent;
                            document.head.appendChild(newScript);
                        }
                    });
                }
            } catch (error) {
                console.warn('Could not load Nordic cookies component:', error);
            }
        }

        // Initialize everything
        document.addEventListener('DOMContentLoaded', () => {
            console.log('LUKHΛS AI Web Studio loaded');

            // Initialize components
            initNeuralBackground();
            initDockToggle();
            initCookiePreferences();
            loadNordicCookies();

            // Start quote rotation
            setInterval(rotateQuote, 7000);

            // Initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        });
    </script>

    <!-- Studio Core JavaScript -->
    <script src="./assets/js/studio.js"></script>
</body>
</html>
