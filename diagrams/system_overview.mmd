```mermaid
graph TB
    %% LUKHAS AI System Architecture Overview
    %% Generated by Cognitive Audit 2025-11-15

    subgraph "External Clients"
        API_CLIENT[API Clients<br/>OpenAI Compatible]
        MCP_CLIENT[MCP Clients<br/>Tool Integration]
        WEB_CLIENT[Web Interface<br/>Dashboard]
    end

    subgraph "API Gateway Layer"
        API[REST API Gateway<br/>/v1/responses<br/>/v1/chat/completions<br/>/v1/embeddings]
        AUTH[ŒõiD Authentication<br/>JWT & WebAuthn]
        MIDDLEWARE[Security Middleware<br/>Headers & Validation]
    end

    subgraph "LUKHAS Core System (Production Lane)"
        CONSCIOUSNESS[Consciousness System<br/>Awareness & Perception]
        GUARDIAN[Guardian System<br/>Constitutional AI<br/>Ethics & Safety]
        MEMORY[Memory System<br/>Fold-based Storage<br/>aka_qualia]
        IDENTITY[Identity Management<br/>ŒõiD Core<br/>Token Store]
        ORCHESTRATION[Orchestration<br/>Brain Management<br/>Agent Coordination]
    end

    subgraph "MATRIZ Cognitive Engine"
        MATRIZ_CORE[MATRIZ Core<br/>Symbolic DNA]
        MEMORY_NODE[Memory Node]
        ATTENTION_NODE[Attention Node]
        THOUGHT_NODE[Thought Node]
        ACTION_NODE[Action Node]
        DECISION_NODE[Decision Node]
        RISK_NODE[Risk Assessment]

        MATRIZ_CORE --> MEMORY_NODE
        MATRIZ_CORE --> ATTENTION_NODE
        MATRIZ_CORE --> THOUGHT_NODE
        MEMORY_NODE --> ATTENTION_NODE
        ATTENTION_NODE --> THOUGHT_NODE
        THOUGHT_NODE --> DECISION_NODE
        DECISION_NODE --> ACTION_NODE
        RISK_NODE -.-> DECISION_NODE
    end

    subgraph "Constellation Framework (8 Stars)"
        ANCHOR["‚öõÔ∏è ANCHOR<br/>Identity"]
        TRAIL["‚ú¶ TRAIL<br/>Memory"]
        HORIZON["üî¨ HORIZON<br/>Vision"]
        LIVING["üå± LIVING<br/>Bio-Symbolic"]
        DRIFT["üåô DRIFT<br/>Dream"]
        NORTH["‚öñÔ∏è NORTH<br/>Ethics"]
        WATCH["üõ°Ô∏è WATCH<br/>Guardian"]
        QUANTUM["‚öõÔ∏è QUANTUM<br/>Oracle"]
    end

    subgraph "Subsystems"
        VIVOX[VIVOX<br/>Consciousness + Crypto<br/>Encrypted Perception]
        ONEIRIC[Oneiric Core<br/>Dream Engine<br/>Creative Expansion]
        GLYPH[GLYPH System<br/>Symbolic Patterns<br/>Neural Mesh]
        DAST[DAST<br/>Security Testing<br/>Fuzzing]
        NIAS[NIAS<br/>Compliance Audit<br/>EU/GDPR]
        EQNOX[EQNOX<br/>Routing & EQ]
    end

    subgraph "Integration Layer (Core Lane)"
        CORE_SECURITY[Core Security<br/>Encryption Manager]
        CORE_SYMBOLIC[Core Symbolic<br/>Glyph Registry]
        CORE_BIO[Core Bio<br/>Bio-Symbolic Processor]
        CORE_GOVERNANCE[Core Governance<br/>Policy Coordination]
        CORE_AUDIT[Core Audit<br/>Context Management]
    end

    subgraph "External Adapters"
        OPENAI_ADAPTER[OpenAI Adapter]
        ANTHROPIC_ADAPTER[Anthropic Adapter]
        DROPBOX_ADAPTER[Dropbox Adapter]
        GMAIL_ADAPTER[Gmail Adapter]
    end

    subgraph "Storage Backends"
        REDIS[(Redis<br/>Token Store)]
        SQL[(SQL Database<br/>Memory Folds)]
        VECTOR[(Vector DB<br/>Embeddings)]
    end

    %% Client connections
    API_CLIENT --> API
    MCP_CLIENT --> API
    WEB_CLIENT --> API

    %% API Gateway flow
    API --> AUTH
    AUTH --> MIDDLEWARE
    MIDDLEWARE --> ORCHESTRATION

    %% Core system connections
    ORCHESTRATION --> CONSCIOUSNESS
    ORCHESTRATION --> MATRIZ_CORE
    CONSCIOUSNESS --> MEMORY
    CONSCIOUSNESS --> GUARDIAN

    %% Constellation integration
    IDENTITY -.-> ANCHOR
    MEMORY -.-> TRAIL
    CONSCIOUSNESS -.-> HORIZON
    VIVOX -.-> LIVING
    ONEIRIC -.-> DRIFT
    GUARDIAN -.-> NORTH
    GUARDIAN -.-> WATCH

    %% Subsystem connections
    CONSCIOUSNESS --> VIVOX
    CONSCIOUSNESS --> GLYPH
    MEMORY --> GLYPH
    ORCHESTRATION --> ONEIRIC
    GUARDIAN --> NIAS
    GUARDIAN --> DAST

    %% Integration layer
    CONSCIOUSNESS --> CORE_SYMBOLIC
    IDENTITY --> CORE_SECURITY
    GUARDIAN --> CORE_GOVERNANCE
    ORCHESTRATION --> CORE_AUDIT
    VIVOX --> CORE_BIO

    %% External adapters
    ORCHESTRATION --> OPENAI_ADAPTER
    ORCHESTRATION --> ANTHROPIC_ADAPTER
    ORCHESTRATION --> DROPBOX_ADAPTER
    ORCHESTRATION --> GMAIL_ADAPTER

    %% Storage
    IDENTITY --> REDIS
    MEMORY --> SQL
    CONSCIOUSNESS --> VECTOR

    %% Styling
    classDef production fill:#4CAF50,stroke:#2E7D32,color:#fff
    classDef cognitive fill:#2196F3,stroke:#1565C0,color:#fff
    classDef security fill:#F44336,stroke:#C62828,color:#fff
    classDef integration fill:#FF9800,stroke:#E65100,color:#fff
    classDef subsystem fill:#9C27B0,stroke:#6A1B9A,color:#fff
    classDef storage fill:#607D8B,stroke:#37474F,color:#fff

    class API,AUTH,MIDDLEWARE production
    class CONSCIOUSNESS,GUARDIAN,MEMORY,IDENTITY,ORCHESTRATION production
    class MATRIZ_CORE,MEMORY_NODE,ATTENTION_NODE,THOUGHT_NODE,ACTION_NODE,DECISION_NODE,RISK_NODE cognitive
    class CORE_SECURITY,CORE_GOVERNANCE,DAST,NIAS security
    class CORE_SYMBOLIC,CORE_BIO,CORE_AUDIT integration
    class VIVOX,ONEIRIC,GLYPH,EQNOX subsystem
    class REDIS,SQL,VECTOR storage
```

**Legend:**
- **Green (Production)**: Battle-tested production systems (lukhas/)
- **Blue (Cognitive)**: MATRIZ cognitive processing engine
- **Red (Security)**: Security & compliance systems
- **Orange (Integration)**: Integration layer (core/)
- **Purple (Subsystems)**: Specialized subsystems
- **Gray (Storage)**: Data persistence layers

**Confidence Score**: 0.95 (High) - Based on direct codebase analysis

**Key Observations**:
1. Clear separation between API gateway, core system, and cognitive engine
2. Constellation Framework provides 8-dimensional cognitive processing
3. Lane-based architecture (Development ‚Üí Integration ‚Üí Production)
4. Strong emphasis on security, ethics, and compliance
5. Multiple external adapters for LLM providers
6. Distributed storage architecture (Redis, SQL, Vector DB)
