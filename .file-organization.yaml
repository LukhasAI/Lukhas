# LUKHAS File Organization Rules
# ================================
# This configuration defines where files should be automatically organized

version: 1.0

# Files that MUST stay in root
keep_in_root:
  - README.md
  - LICENSE
  - CLAUDE.md
  - Makefile
  - requirements.txt
  - setup.py
  - pyproject.toml
  - pytest.ini
  - .gitignore
  - .env.example
  - docker-compose.yml
  - Dockerfile
  - lukhas_config.yaml
  - modulation_policy.yaml

# Organization rules (processed in order)
organization_rules:
  
  # Agent reports and implementation docs
  - pattern: "^(AGENT_|AGENTS|.*_AGENT_).*\\.md$"
    destination: docs/agent_reports/
    description: "Agent implementation and status reports"
  
  # Completion and status reports
  - pattern: "^(.*_REPORT|.*_STATUS|.*_COMPLETE|.*_COMPLETION).*\\.md$"
    destination: docs/completion_reports/
    description: "Completion and status reports"
  
  # Implementation and integration docs
  - pattern: "^(IMPLEMENTATION_|INTEGRATION_|.*_IMPLEMENTATION|.*_INTEGRATION).*\\.md$"
    destination: docs/implementation/
    description: "Implementation and integration documentation"
  
  # Analysis and assessment docs
  - pattern: "^(.*_ANALYSIS|.*_ASSESSMENT|.*_DIAGNOSIS|.*_AUDIT).*\\.md$"
    destination: docs/analysis/
    description: "Analysis and assessment documents"
  
  # Plans and roadmaps
  - pattern: "^(.*_PLAN|.*_ROADMAP|.*_STRATEGY).*\\.md$"
    destination: docs/planning/
    description: "Planning and roadmap documents"
  
  # Module-specific docs
  - pattern: "^(MODULE_|.*_MODULE_).*\\.md$"
    destination: docs/modules/
    description: "Module-specific documentation"
  
  # Security docs
  - pattern: "^(SECURITY_|.*_SECURITY).*\\.md$"
    destination: docs/security/
    description: "Security-related documentation"
  
  # Backup files
  - pattern: ".*\\.backup$"
    destination: backups/
    description: "Backup files"
  
  # Old/legacy files
  - pattern: ".*_ORIGINAL.*|.*_OLD.*|.*_LEGACY.*|.*_DEPRECATED.*"
    destination: archive/legacy/
    description: "Legacy and deprecated files"
  
  # Test results and reports
  - pattern: "^(TEST_|.*_TEST_).*\\.(md|json|xml|html)$"
    destination: test_results/
    description: "Test results and reports"
  
  # Research packages
  - pattern: ".*Research_Package.*"
    destination: research/packages/
    description: "Research packages"
  
  # Crash recovery and emergency docs
  - pattern: "^(.*_CRASH|.*_RECOVERY|.*_EMERGENCY).*\\.md$"
    destination: docs/recovery/
    description: "Crash recovery documentation"
  
  # Configuration backups
  - pattern: ".*\\.yaml\\.backup$|.*\\.yml\\.backup$|.*\\.json\\.backup$"
    destination: backups/configs/
    description: "Configuration backups"
  
  # Temporary and cache files
  - pattern: "^\\..*_cache|.*\\.tmp$|.*\\.temp$"
    destination: .tmp/
    description: "Temporary files"
  
  # Log files
  - pattern: ".*\\.log$|.*\\.jsonl$"
    destination: logs/
    description: "Log files"
  
  # One-off scripts
  - pattern: "^test_.*\\.py$|^demo_.*\\.py$|^example_.*\\.py$"
    destination: scripts/one_off/
    description: "One-off test and demo scripts"
  
  # Workspace files
  - pattern: ".*\\.code-workspace$"
    destination: .vscode/workspaces/
    description: "VSCode workspace files"

# Special handling for certain files
special_cases:
  # These get reviewed before moving
  review_before_move:
    - "*.sh"  # Shell scripts might be needed in root
    - "main.py"  # Main entry points
    - "app.py"
    
  # These generate warnings if found
  warn_if_found:
    - "*.pyc"
    - "__pycache__"
    - ".DS_Store"
    - "*.swp"
    - "*~"

# Automatic cleanup rules
cleanup:
  # Delete these file types (after confirmation)
  delete_patterns:
    - "*.pyc"
    - ".DS_Store"
    - "*.swp"
    - "*~"
    - "Thumbs.db"
  
  # Archive these after N days
  archive_after_days:
    "*.backup": 30
    "*_old.*": 60
    "*_deprecated.*": 90

# Directory structure to ensure exists
ensure_directories:
  - docs/agent_reports
  - docs/completion_reports
  - docs/implementation
  - docs/analysis
  - docs/planning
  - docs/modules
  - docs/security
  - docs/recovery
  - research/packages
  - backups/configs
  - archive/legacy
  - scripts/one_off
  - .tmp
  - .vscode/workspaces

# Reporting
reporting:
  generate_summary: true
  summary_location: docs/organization_summary.md
  log_moves: true
  log_location: .file_organization_log.json