openapi: 3.1.0
info:
  title: LUKHAS Lanes API
  version: 1.0.0
  description: 'Lane introspection and validation endpoints for Candidate/Core/Lukhas
    lanes.

    '
servers:
- url: http://localhost:8000/api/v1
  description: Development
- url: https://api.lukhas.ai/v1
  description: Production
tags:
- name: lanes
  description: Lane metadata and validation
paths:
  /lanes:
    get:
      summary: List lanes
      operationId: listLanes
      tags:
      - lanes
      responses:
        '200':
          description: List of lanes
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Lane'
              examples:
                lanes:
                  value:
                  - name: candidate
                    status: active
                  - name: core
                    status: active
                  - name: lukhas
                    status: active
  /lanes/validate:
    post:
      summary: Validate import boundaries
      operationId: validateLanes
      tags:
      - lanes
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LaneValidationRequest'
            examples:
              sample:
                value:
                  module: lukhas/api/router.py
      responses:
        '200':
          description: Validation result
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LaneValidationResult'
              examples:
                ok:
                  value:
                    module: lukhas/api/router.py
                    violations: []
        '422':
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
components:
  schemas:
    Lane:
      type: object
      required:
      - name
      - status
      properties:
        name:
          type: string
          enum:
          - candidate
          - core
          - lukhas
          - products
        status:
          type: string
          enum:
          - active
          - paused
    LaneValidationRequest:
      type: object
      required:
      - module
      properties:
        module:
          type: string
          description: Path to a module to validate for lane boundary rules
    LaneValidationResult:
      type: object
      required:
      - module
      - violations
      properties:
        module:
          type: string
        violations:
          type: array
          items:
            type: string
    Error:
      type: object
      required:
      - error
      - message
      properties:
        error:
          type: string
        message:
          type: string
x-status: deprecated
x-note: Lanes are being removed in favor of flattened/colony structure. Spec retained
  for compatibility.
