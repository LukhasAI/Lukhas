tasks:
  _default_:
    - kind: require_provenance
    - kind: mask_pii
    - kind: budget_limit
      max_tokens: 200000
    - kind: require_provenance_record
      require_attestation: true  # Enable for signature verification testing
      verify_signature: true  # Enable signature verification with PyNaCl
      require_storage_url: true
      allow_inline_record: true
  generate_summary:
    - kind: content_policy
      categories: [adult, hate, illegal]
  answer_medical:
    - kind: content_policy
      categories: [medical_high_risk]
    - kind: age_gate
      min_age: 18
    - kind: require_provenance_record
      require_attestation: true
      verify_signature: false  # Enable when PyNaCl is available
      require_storage_url: true
  pii_processing:
    - kind: require_consent
      purpose: "pii_processing"
    - kind: mask_pii
    - kind: content_policy
      categories: [adult, hate, illegal]
  data_analysis:
    - kind: require_consent
      purpose: "analytics"
    - kind: budget_limit
      max_tokens: 50000
  model_training:
    - kind: require_consent
      purpose: "model_improvement"
    - kind: require_provenance
    - kind: mask_pii
